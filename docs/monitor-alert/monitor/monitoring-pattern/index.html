<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.65">
<title data-react-helmet="true">Monitoring Pattern | Documentation</title><meta data-react-helmet="true" name="docsearch:version" content="current,latest"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Monitoring Pattern | Documentation"><meta data-react-helmet="true" name="description" content="Context"><meta data-react-helmet="true" property="og:description" content="Context"><meta data-react-helmet="true" property="og:url" content="https://docs.gregschullo.io/docs/monitor-alert/monitor/monitoring-pattern"><link data-react-helmet="true" rel="shortcut icon" href="/img/book.png"><link data-react-helmet="true" rel="canonical" href="https://docs.gregschullo.io/docs/monitor-alert/monitor/monitoring-pattern"><link rel="stylesheet" href="/styles.002cccb7.css">
<link rel="preload" href="/styles.f12781b6.js" as="script">
<link rel="preload" href="/runtime~main.7d20d964.js" as="script">
<link rel="preload" href="/main.30dae366.js" as="script">
<link rel="preload" href="/1.3ff23062.js" as="script">
<link rel="preload" href="/2.80a938c0.js" as="script">
<link rel="preload" href="/3.f71dffe0.js" as="script">
<link rel="preload" href="/1be78505.783725f3.js" as="script">
<link rel="preload" href="/105.f7378633.js" as="script">
<link rel="preload" href="/935f2afb.4456285a.js" as="script">
<link rel="preload" href="/17896441.d33a2337.js" as="script">
<link rel="preload" href="/05c035e7.d1ab57b3.js" as="script">
</head>
<body>
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):window.matchMedia("(prefers-color-scheme: light)").matches?e("light"):e("dark")}()</script><div id="__docusaurus">
<nav class="navbar navbar--fixed-top navbar--primary"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/book.png" alt="Book"><strong class="navbar__title"></strong></a><div class="navbar__item dropdown dropdown--hoverable dropdown--left"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/dev/development">Dev</a><ul class="dropdown__menu"><li><a class="dropdown__link" position="left" href="/docs/dev/python/python-overview">Python</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--left"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/infrastructure/infrastructure-overview">Infrastructure</a><ul class="dropdown__menu"><li><a class="dropdown__link" position="left" href="/docs/infrastructure/networking/networking-overview">Networking</a></li><li><a class="dropdown__link" position="left" href="/docs/infrastructure/containerization/kubernetes/kubernetes-index">Containerization</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--left"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/monitor-alert/monitoring-alerting">Monitor and Alert</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" position="left" href="/docs/monitor-alert/monitor/monitoring-pattern">Monitoring</a></li><li><a class="dropdown__link" position="left" href="/docs/monitor-alert/alert/alerting-strategy">Alerting</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--left"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/sre/sre">SRE</a><ul class="dropdown__menu"><li><a class="dropdown__link" position="left" href="/docs/sre/availability/meaningful-availability">Availability</a></li><li><a class="dropdown__link" position="left" href="/docs/sre/reliability/reliability-roadmap">Reliability</a></li><li><a class="dropdown__link" position="left" href="/docs/sre/incidents/incident-response">Incident Response</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--left"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/os/os-overview">OS</a><ul class="dropdown__menu"><li><a class="dropdown__link" position="left" href="/docs/os/linux/linux-overview">Linux</a></li><li><a class="dropdown__link" position="left" href="/docs/os/macos/macos-overview">MacOS</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--left"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/books/tech-books/phoenix-project">Books</a><ul class="dropdown__menu"><li><a class="dropdown__link" position="left" href="/docs/books/tech-books/google-site-reliability-engineering">Tech</a></li><li><a class="dropdown__link" position="left" href="/docs/books/healthcare-books/an-american-sickness">Healthcare</a></li><li><a class="dropdown__link" position="left" href="/docs/books/business-books/the-checklist-manifesto">Business</a></li></ul></div></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/blog">Blog</a><a class="navbar__item navbar__link" href="/docs/greg-schullo-resume">Résumé</a><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Search" aria-label="Search" class="navbar__search-input search-bar"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/book.png" alt="Book"><strong class="navbar__title"></strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--sublist navbar__link--active" href="/docs/dev/development">Dev</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" position="left" href="/docs/dev/python/python-overview">Python</a></li></ul></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--sublist navbar__link--active" href="/docs/infrastructure/infrastructure-overview">Infrastructure</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" position="left" href="/docs/infrastructure/networking/networking-overview">Networking</a></li><li class="menu__list-item"><a class="menu__link" position="left" href="/docs/infrastructure/containerization/kubernetes/kubernetes-index">Containerization</a></li></ul></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--sublist navbar__link--active" href="/docs/monitor-alert/monitoring-alerting">Monitor and Alert</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" position="left" href="/docs/monitor-alert/monitor/monitoring-pattern">Monitoring</a></li><li class="menu__list-item"><a class="menu__link" position="left" href="/docs/monitor-alert/alert/alerting-strategy">Alerting</a></li></ul></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--sublist navbar__link--active" href="/docs/sre/sre">SRE</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" position="left" href="/docs/sre/availability/meaningful-availability">Availability</a></li><li class="menu__list-item"><a class="menu__link" position="left" href="/docs/sre/reliability/reliability-roadmap">Reliability</a></li><li class="menu__list-item"><a class="menu__link" position="left" href="/docs/sre/incidents/incident-response">Incident Response</a></li></ul></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--sublist navbar__link--active" href="/docs/os/os-overview">OS</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" position="left" href="/docs/os/linux/linux-overview">Linux</a></li><li class="menu__list-item"><a class="menu__link" position="left" href="/docs/os/macos/macos-overview">MacOS</a></li></ul></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--sublist navbar__link--active" href="/docs/books/tech-books/phoenix-project">Books</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" position="left" href="/docs/books/tech-books/google-site-reliability-engineering">Tech</a></li><li class="menu__list-item"><a class="menu__link" position="left" href="/docs/books/healthcare-books/an-american-sickness">Healthcare</a></li><li class="menu__list-item"><a class="menu__link" position="left" href="/docs/books/business-books/the-checklist-manifesto">Business</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/blog">Blog</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/greg-schullo-resume">Résumé</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><div class="docSidebarContainer_3_JD" role="complementary"><div class="sidebar_2urC"><div class="menu menu--responsive menu_5FrY"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_Dm3K" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" href="/docs/monitor-alert/monitor/monitoring-pattern">Monitoring Pattern</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/monitor-alert/monitor/the-four-golden-signals">The 4 Golden Signals</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/monitor-alert/monitor/monitoring-glossary">Monitoring Glossary</a></li></ul></div></div></div><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1EkI"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">Monitoring Pattern</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="context"></a>Context<a aria-hidden="true" tabindex="-1" class="hash-link" href="#context" title="Direct link to heading">#</a></h2><p>This document provides monitoring best practices and guidance for application teams architecting for resiliency.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="problem"></a>Problem<a aria-hidden="true" tabindex="-1" class="hash-link" href="#problem" title="Direct link to heading">#</a></h2><p>Complex infrastructure and customer experiences are often difficult to instrument and measure holistically. When monitoring with application resiliency as the focus, it is vital to instrument monitoring so a thorough understanding of application infrastructure and transaction flow may be achieved. In other words, it is necessary to first understand where and why problems will and could occur before any type of resiliency practices may take place.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="solution"></a>Solution<a aria-hidden="true" tabindex="-1" class="hash-link" href="#solution" title="Direct link to heading">#</a></h2><p>There are many monitoring solutions available and an appropriate solution or solutions will vary from application to application.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="monitoring"></a>Monitoring<a aria-hidden="true" tabindex="-1" class="hash-link" href="#monitoring" title="Direct link to heading">#</a></h2><p>First we must define monitoring in a technology focus. Google SRE defines monitoring as collecting, processing, aggregating, and displaying real-time quantitative data about a system, over a period of time, to observe and check the progress or quality of the system.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="goal-of-monitoring"></a>Goal of Monitoring<a aria-hidden="true" tabindex="-1" class="hash-link" href="#goal-of-monitoring" title="Direct link to heading">#</a></h3><p>The main goal of monitoring is to fully understand your application. This would include understanding long term trends, comparison over time or comparing to experiment groups, alerting on anomalies, data visualization, and creating the ability to conduct adhoc retrospective analysis. These capabilities are crucial to understanding and maintaining your application. </p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="a-monitoring-system-should"></a>A Monitoring System Should<a aria-hidden="true" tabindex="-1" class="hash-link" href="#a-monitoring-system-should" title="Direct link to heading">#</a></h3><ul><li>Measure performance provided to users to meet and enforce required service level agreements (SLAs), service level objectives (SLOs), and detecting and managing problems</li><li>Send appropriate alerts or notifications to appropriate recipients </li><li>Aspire to learn to contribute to and drive application reliability within what you can control, regardless of platform.</li><li>If focus on infrastructure is necessary, monitor what you can control to determine your application’s underlying infrastructure components and their health. </li><li>Monitor the interaction of &quot;neighbor&quot; applications and upstream and downstream dependencies to understand the relationship and communication between them and your application.<ul><li>An example of this would be to monitor response time between neighbor applications rather than just if a connection between components or endpoint is up or down. </li><li>Another example may be to measure volume or throughout sent to your application from a downstream dependency to understand the impact on your application from a known source.</li></ul></li></ul><p>It is important to understand and define what a healthy system performs like. A healthy system should be defined based on specific criteria for each application and that criteria will vary from app to app and potentially change over time. Some examples of what can define a healthy system include the following:</p><ul><li>Successful responses</li><li>Response Times and Threshold definitions</li><li>Dependency Failures Dependency SLA’s</li><li>Page load times</li></ul><p>These should be very dynamic in nature and specific to each application. This should be maintained as a policy for each service and be validated by the monitoring system on a frequency basis.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="the-4-golden-signals"></a>The 4 Golden Signals<a aria-hidden="true" tabindex="-1" class="hash-link" href="#the-4-golden-signals" title="Direct link to heading">#</a></h2><p>The 4 Golden Signals are the basis for any well monitored system and should be prioritized. More information on the 4 Golden Signals can be found <a href="https://gregschullo.github.io/documentation/docs/sre/monitoring/the-four-golden-signals" target="_blank" rel="noopener noreferrer">here</a> or in the <a href="https://landing.google.com/sre/sre-book/chapters/monitoring-distributed-systems/" target="_blank" rel="noopener noreferrer">Google Site Reliability Engineering book</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="types-of-monitoring"></a>Types of Monitoring<a aria-hidden="true" tabindex="-1" class="hash-link" href="#types-of-monitoring" title="Direct link to heading">#</a></h2><p><strong>Observability</strong> - The practice of obtaining data from timeseries metrics (telemetry), logging data, and transaction traces for the purpose of discovering unexpected patterns. Observability is achieved when data made available from the monitored system provides granular insights with rich context into the behavior of a system for analysis. </p><p><strong>Telemetry</strong> - The collection of measurements or other data that is automatically transmitted to receiving equipment for monitoring purposes. In terms of information services, &#x27;measurements or other data&#x27; could mean OS &amp; host data, but it also can reference web logs (hits per second), network service (throughput), or anything else that signifies the &#x27;health&#x27; of your system. A few examples of telemetry tools include Telegraf, Prometheus, and HP OpsBridge and can be visualized with tools such as <a href="https://grafana.optum.com/" target="_blank" rel="noopener noreferrer">Grafana</a>, Kibana, and Geckoboard.</p><p><strong>Log Aggregation</strong> - The collection of log files to organize the data in them and make them searchable. Log aggregation is useful for the capturing of known knowns. Examples of log aggregation tools include Elastic Logs and Splunk. </p><p><strong>Application Performance Monitoring (APM)</strong> - The monitoring and management of performance and availability of software applications. APM strives to detect and diagnose complex application performance problems to maintain a defined level of service. Examples of application performance monitoring tools include Elastic APM, Dynatrace, and New Relic. </p><p><strong>Tracing</strong> - Used to profile and monitor applications, especially those built using a microservices architecture. Distributed tracing helps pinpoint where failures occur and what causes poor performance through the building blocks commonly referred to as &quot;<a href="https://opentracing.io/docs/overview/spans/" target="_blank" rel="noopener noreferrer">spans</a>&quot;. Tracing is useful for the capturing of unknown unknowns. Examples of tracing tools include Jaeger and Pinpoint. </p><p><strong>Synthetic</strong> - A technique using emulation or scripted recordings of a transaction. Scripts are created to simulate an action or path that a customer or end-user would perform on a site, application, or other software. Examples of synthetic monitoring include HP BSM, New Relic Synthetics, or Dynatrace Synthetics.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="raw-error-rate"></a>Raw Error Rate<a aria-hidden="true" tabindex="-1" class="hash-link" href="#raw-error-rate" title="Direct link to heading">#</a></h2><p>Raw Error Rate is an availability metric that is designed to give an accurate indication of how your application or service is performing and is to be measured from the customer&#x27;s point of view. Raw Error Rate is both an indicator of customer experience as well as the availability of the underlying technology that provides the service.</p><p>Raw Error Rate is a very simple formula, although it is not necessarily easy to calculate.  </p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-docker codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Raw Error Rate = Failed Requests / Total Requests</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Where failed requests are requests that are not successful or requests that return successfully, but not in an acceptable amount of time and where total requests are any and all observable requests.</span></div></div></div></div></div><p>Customer Success Rate is a more positive spin on Raw Error Rate. It is the inverse of Raw Error Rate... (1-RER) * 100 = Customer Success as a Percentage</p><p>More information on Raw Error Rate can be found on the <a href="https://hubconnect.uhg.com/groups/optum-system-reliability-engineering-sre/blog/2018/04/03/introducing-raw-error-rate" target="_blank" rel="noopener noreferrer">SRE HubConnect Blog</a></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="mean-time-to-detect"></a>Mean Time to Detect<a aria-hidden="true" tabindex="-1" class="hash-link" href="#mean-time-to-detect" title="Direct link to heading">#</a></h2><p>Mean Time to Detect is a metric that measures the average time it takes to discover an issue or problem is occurring. Monitoring is the first and most essential component of having a low Mean Time to Detect as monitoring acts as the &quot;trip wire&quot; or notifier of a problem. The more accurate and detailed your monitoring is, the faster your mean time to detect score is, resulting in resolving issues or potential issues more quickly.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="vital-business-function-vbf-monitoring"></a>Vital Business Function (VBF) Monitoring<a aria-hidden="true" tabindex="-1" class="hash-link" href="#vital-business-function-vbf-monitoring" title="Direct link to heading">#</a></h2><p>These particular functions have been deemed essential to an application and the success of the business. It is extremely important that these functions perform well, so monitoring these should be priority over other functions or services.</p><p>Setting up monitoring to capture metrics surrounding error rate or increases in response time are beneficial to gaining insight quickly to when there may be an issue with a VBF, helping to reduce Mean Time to Detection (MTTD) and Mean Time to Restoration (MTTR). This helps ensure VBFs are performing well and giving a satisfactory customer experience.</p><p>More detailed information on Fundamental Monitoring Theory can be found at:<br>
<a href="https://landing.google.com/sre/sre-book/chapters/monitoring-distributed-systems/" target="_blank" rel="noopener noreferrer">Google SRE - Monitoring Distributed Systems</a><br>
<a href="https://new-wiki.optum.com/display/EM/Fundamental+Monitoring+Theory" target="_blank" rel="noopener noreferrer">Optum Fundamental Monitoring Theory</a>  </p></div></article><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/monitor-alert/monitor/the-four-golden-signals"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">The 4 Golden Signals »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3SO_"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#context" class="table-of-contents__link">Context</a></li><li><a href="#problem" class="table-of-contents__link">Problem</a></li><li><a href="#solution" class="table-of-contents__link">Solution</a></li><li><a href="#monitoring" class="table-of-contents__link">Monitoring</a><ul><li><a href="#goal-of-monitoring" class="table-of-contents__link">Goal of Monitoring</a></li><li><a href="#a-monitoring-system-should" class="table-of-contents__link">A Monitoring System Should</a></li></ul></li><li><a href="#the-4-golden-signals" class="table-of-contents__link">The 4 Golden Signals</a></li><li><a href="#types-of-monitoring" class="table-of-contents__link">Types of Monitoring</a></li><li><a href="#raw-error-rate" class="table-of-contents__link">Raw Error Rate</a></li><li><a href="#mean-time-to-detect" class="table-of-contents__link">Mean Time to Detect</a></li><li><a href="#vital-business-function-vbf-monitoring" class="table-of-contents__link">Vital Business Function (VBF) Monitoring</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="text--center"><div class="margin-bottom--sm"><a href="https://github.com/gregschullo" target="_blank" rel="noopener noreferrer" class="footerLogoLink_1zJy"><img class="footer__logo" alt="GitHub" src="/img/github.png"></a></div><div>Copyright © Greg Schullo 2020</div></div></div></footer></div>
<script src="/styles.f12781b6.js"></script>
<script src="/runtime~main.7d20d964.js"></script>
<script src="/main.30dae366.js"></script>
<script src="/1.3ff23062.js"></script>
<script src="/2.80a938c0.js"></script>
<script src="/3.f71dffe0.js"></script>
<script src="/1be78505.783725f3.js"></script>
<script src="/105.f7378633.js"></script>
<script src="/935f2afb.4456285a.js"></script>
<script src="/17896441.d33a2337.js"></script>
<script src="/05c035e7.d1ab57b3.js"></script>
</body>
</html>